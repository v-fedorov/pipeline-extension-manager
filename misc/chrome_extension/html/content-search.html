<link rel="stylesheet" href="//static.cloud.coveo.com/searchui/v2.10082/css/CoveoFullSearchNewDesign.css" />

<!-- The Modal -->
<div id="__contentModal" class="__modal">

  <!-- Modal content -->
  <div class="__modal-content __animateBottom __selector">
    <span class="__close">&times;</span>

    <h1 class="inline bold text-medium-blue">Extension tester &nbsp;-&nbsp;
      <span id="__extName"></span>
    </h1>
    <br>
    <span id="__no-support-warning" class="badge mod-warning ml1" aria-label="badge">
      <span class="icon mod-warning mod-2x">
        <svg fill="none" stroke="#282829" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" style="margin-top: -2px;"><path d="m7.22252 3.02994c.58572-.95181 1.96925-.95181 2.55497 0l4.42091 7.18396c.615.9994-.104 2.2861-1.2775 2.2861h-8.84177c-1.17348 0-1.8925-1.2867-1.27748-2.2861z" stroke-linecap="round"/><path d="m8.5 8.5v-3.5" stroke-linecap="round"/><path d="m8.25 10.25h.5v.5h-.5z" stroke-width=".5"/></svg></span>
      <span> This is an unsupported extension (<a href="https://github.com/coveo-labs/pipeline-extension-manager/tree/master/misc/chrome_extension#no-support" target="_blank" class="text mod-link">more info</a>).</span>
    </span>
    <div id="version"></div>

    <div class="tab-navigation">
      <div id="__tab-select-document" class="tab enabled active">Select document</div>
      <div id="__tab-parameters" class="tab enabled">Parameters</div>
      <div id="__tab-test" class="tab enabled">Test document</div>
    </div>

    <div class="tab-content">
      <div data-tab="__tab-select-document" class="tab-pane active">
        <br>
        <h4 class="admin-description text-dark-grey">Click on a document to test it with the extension</h4>

        <div class="mod-form-top-bottom-padding">

          <div class='sync-feedback mod-error mt2' id="__apiKeyWarning" style="display:none;">
            <span class='sync-feedback-icon'>
              <svg class='icon' viewBox='0 0 10 10'>
                <path d='M9.79.212A.72.72 0 0 0 8.77.211L5 3.981 1.229.211A.717.717 0 0 0 .211.212H.21A.72.72 0 0 0 .211 1.23l3.771 3.769L.211 8.77a.718.718 0 0 0 0 1.018.718.718 0 0 0 1.018 0L5 6.017l3.771 3.771A.72.72 0 0 0 9.789 8.77L6.018 4.999 9.789 1.23A.72.72 0 0 0 9.79.212'></path>
              </svg>
            </span>
            <span class='sync-feedback-text'>No API key found, please add one in the settings tab.</span>
          </div>

          <div id="__orgContent" class="CoveoSearchInterface" data-enable-history="false" data-design="new" data-endpoint="orgContent">

            <div class="coveo-search-section" style="margin: 10px 60px">
              <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-syntax="true"></div>
            </div>
            <div class="coveo-main-section">
              <div class="coveo-facet-column">
                <div class="CoveoFacet" data-title="Source" data-field="@source" data-tab="All"></div>
                <div class="CoveoFacet" data-title="Type" data-field="@objecttype" data-tab="All"></div>
                <div class="CoveoFacet" data-title="FileType" data-field="@filetype" data-tab="All"></div>
                <div class="CoveoFacet" data-title="Author" data-field="@author" data-tab="All"></div>
                <div class="CoveoFacet" data-title="Year" data-field="@year" data-tab="All"></div>
                <div class="CoveoFacet" data-title="Month" data-field="@month" data-tab="All"></div>
              </div>
              <div class="coveo-results-column">
                <div class="CoveoShareQuery"></div>
                <div class="CoveoPreferencesPanel">
                  <div class="CoveoResultsPreferences"></div>
                  <div class="CoveoResultsFiltersPreferences"></div>
                </div>
                <div class="CoveoTriggers"></div>
                <div class="CoveoBreadcrumb"></div>
                <div class="CoveoSearchAlerts"></div>
                <div class="coveo-results-header">
                  <div class="coveo-summary-section">
                    <span class="CoveoQuerySummary"></span>
                    <span class="CoveoQueryDuration"></span>
                  </div>
                  <div class="coveo-sort-section">
                    <span class="CoveoSort" data-sort-criteria="relevancy" data-caption="Relevance"></span>
                    <span class="CoveoSort" data-sort-criteria="date descending,date ascending" data-caption="Date"></span>
                  </div>
                </div>
                <div class="CoveoHiddenQuery"></div>
                <div class="CoveoDidYouMean"></div>
                <div class="CoveoErrorReport" data-pop-up="false"></div>
                <div class="CoveoResultList" data-layout="list" data-wait-animation="fade" data-auto-select-fields-to-include="true">
                  <script id="Default" class="result-template" type="text/html" data-layout="list">
                    <div class="coveo-result-frame">
                      <div class="coveo-result-row">
                        <div class="coveo-result-cell">
                          <div class="coveo-result-row">
                            <div class="coveo-result-cell">
                              <a class="CoveoResultLink"></a>
                            </div>
                            <div class="coveo-result-cell" style="width:120px; text-align:right; font-size:12px">
                              <span class="CoveoFieldValue" data-field="@date" data-helper="date"></span>
                            </div>
                          </div>
                          <div class="coveo-result-row">
                            <div class="coveo-result-cell">
                              <div class="CoveoExcerpt"></div>
                              <div class="CoveoFieldValue" data-field="@author" data-text-caption="Author:"></div>
                              <div class="CoveoFieldValue" data-field="@source" data-text-caption="Source:"></div>
                              <div class="CoveoFieldValue" data-field="@language" data-text-caption="Language:"></div>
                              <div class="CoveoFieldValue" data-field="@filetype" data-text-caption="File type:"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </script>
                </div>
                <div class="CoveoPager"></div>
                <div class="CoveoResultsPerPage"></div>
              </div>

            </div>
          </div>

        </div>
      </div>
      <div data-tab="__tab-parameters" class="tab-pane">
        <br>
        <h3>If this extension is using parameters, you can define them here for your test using JSON.</h3>
        <br>
        <br>

        <div id="__parametersForTest" name="parametersForTest" class="input-field form-group mod-resizeable validate js-autosized ParametersJson">
          <textarea placeholder="Parameters as JSON" required=""></textarea>
          <label for="__parametersForTest">
            Parameters (JSON)
          </label>
        </div>

      </div>
      <div data-tab="__tab-test" class="tab-pane">
        <div id="__testSection" data-endpoint="orgContent" class="mod-header-padding mod-form-top-bottom-padding coveo-after-initialization">
          <div class="coveo-form">
            <div class="flex-row">
              <fieldset class="input-field form-group flex1 validate">
                <input class="invalid" type="text" id="__testDocId" required placeholder="uniqueId">
                <label data-invalid-message="Need a Document Id for the test">Document unique ID</label>
                <input type="hidden" id="__currentExtension">
              </fieldset>
              <button id="__runTests" class="btn mod-primary" style="margin: 15px 0 0 10px;" disabled>Test</button>
            </div>

            <fieldset class="form-group">
              <div id="__originalFile"></div>
            </fieldset>

            <fieldset class="form-group">
              <div class='banner flex center-align bg-yellow'>
                <div class="banner-description">
                  <p title="Example: Youtube has a mapping for the meta coveo_likecount and maps it to the field (meta) ytlikecount, if you were to use coveo_likecount in your script, you wouldn't get a value"
                    data-placement="down">Warning: not all metadata is present compared to a real extension, only
                    indexed metadata can be used (hover for
                    example)
                  </p>
                </div>
              </div>
              <div id="__extensionTesterErrors"></div>
            </fieldset>

            <div class="loading-prompt" id="__testLoading" style="display:none;">
              <div>Running test. Please wait.</div>
              <div class="spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
              </div>
            </div>

            <br>

            <fieldset class="form-group">
              <pre id="__testResults" style="white-space: pre-wrap; word-wrap:break-word;"></pre>
            </fieldset>

          </div>
        </div>
      </div>
      <!-- tab-pane -->
    </div>
    <!-- tab-content -->

  </div>
</div>
